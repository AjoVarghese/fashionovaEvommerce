<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Signup</title>
    <link rel="stylesheet" href="stylesheets/signup.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <div class="container">
      
        <div class="form">
          
          <div class="sign-in-section">
            
            <h3>Reset Password</h3>
            
            
            <form action="/reset-password?id=<%=userId %>" method="post" id="form" name="f1" class="mt-3">
                  <div class="form-field">
                    <label for="password">New Password</label>
                    <input id="inpa" type="password" placeholder="Password" name="password" onchange="passwordCheck()"/>
                    <div style="display: flex;align-items: flex-start;">
                      <p id="ppassword" style="color: red;"></p>
                    </div>
                  </div>
    
                  <div class="form-field">
                    <label for="cpassword">Confirm Password</label>
                    <input id="inpac" type="password" placeholder="Confirm Password" name="cpassword" onchange="cpasswordCheck()"/>
                    <div style="display: flex;align-items: flex-start;">
                      <p id="cpassword" style="color: red;"></p>
                    </div>
                  </div>
              
              <div class="form-field">
                <input type="submit" class="btn btn-signin" value="Submit" onclick="return validate()" />
              </div>
            </form>
          </div>
        </div>
      </div>

      <script>
        function validate(){
            
                 if(document.f1.name.value===""){
                      document.getElementById("pname").innerHTML="*fill the form";
                      document.getElementById('pname').style.color='red'
                      document.getElementById('inpn').focus;
                      document.getElementById('inpn').style.borderColor='red'
                      return false;
                  }

                  else if(document.f1.name.value.length <=3){
                      document.getElementById("pname").innerHTML="*Name must have altleat 4 characters";
                      document.getElementById('pname').style.color='red'
                      document.getElementById('inpn').focus;
                      document.getElementById('inpn').style.borderColor='red'
                      return false;
                  }
                  else if(!isNaN(document.f1.name.value)){
                    document.getElementById("pname").innerHTML="*only text";
                    document.getElementById('pname').style.color='red'
                      document.getElementById('inpn').focus;
                      document.getElementById('inpn').style.borderColor='red'
                      return false;
                  
                  }
                
              
                
                else if(document.f1.email.value===""){
                      document.getElementById("pemail").innerHTML="*fill the form";
                      document.getElementById('pemail').style.color='red'
                      document.getElementById('inpe').focus;
                      document.getElementById('inpe').style.borderColor='red'
                      return false;
                  }
                  else if(email()==false)
                  {
                      document.getElementById("pemail").innerHTML="*invalid email";
                      document.getElementById('pemail').style.color='red'
                      document.getElementById('inpe').focus;
                      document.getElementById('inpe').style.borderColor='red'
                      return false;
                  }
                  
                 
                  else if(document.f1.mobile.value===""){
                      document.getElementById("pmob").innerHTML="*Must provide a mobile no";
                      document.getElementById('pmob').style.color='red'
                      document.getElementById('inpm').focus;
                      document.getElementById('inpm').style.borderColor='red'
                      return false;
                  }
                  else if(document.f1.mobile.value.length<10){
                      document.getElementById("pmob").innerHTML="*Phone number must have 10 digits ";
                      document.getElementById('pmob').style.color='red'
                      document.getElementById('inpm').focus;
                      document.getElementById('inpm').style.borderColor='red'
                      return false;
                  }
                  else if(document.f1.password.value===""){
                      document.getElementById("ppassword").innerHTML="*Must provide a password";
                      document.getElementById('ppassword').style.color='red'
                      document.getElementById('inpa').focus;
                      document.getElementById('inpa').style.borderColor='red'
                      return false;
                  }
                  else if(document.f1.password.value.length < 8){
                      document.getElementById("ppassword").innerHTML="*Password should be atleast 8 charecters";
                      document.getElementById('ppassword').style.color='red'
                      document.getElementById('inpa').focus;
                      document.getElementById('inpa').style.borderColor='red'
                      return false;
                  }

                  else if(document.f1.cpassword.value === ""){
                      document.getElementById("cpassword").innerHTML="*Please confirm password";
                      document.getElementById('cpassword').style.color='red'
                      document.getElementById('inpac').focus;
                      document.getElementById('inpac').style.borderColor='red'
                      return false;
                  }
                  else if(document.f1.cpassword.value != document.f1.password.value){
                      document.getElementById("cpassword").innerHTML="*Password and Confirm password doesn't match";
                      document.getElementById('cpassword').style.color='red'
                      document.getElementById('inpac').focus;
                      document.getElementById('inpac').style.borderColor='red'
                      return false;
                  }
                }

              function passwordCheck(){
                if(document.f1.password.value !=null && document.f1.password.value.length>=8){
                      document.getElementById("ppassword").innerHTML="Valid Password";
                      document.getElementById('ppassword').style.color='green'
                      document.getElementById('inpa').focus;
                      document.getElementById('inpa').style.borderColor='green'
                      return false
                  
                  }

              }

              function cpasswordCheck(){
                if(document.f1.cpassword.value !=null && document.f1.cpassword.value === document.f1.password.value){
                      document.getElementById("cpassword").innerHTML="Password and Confirm Password Matches";
                      document.getElementById('cpassword').style.color='green'
                      document.getElementById('inpac').focus;
                      document.getElementById('inpac').style.borderColor='green'
                      return false
                  
                  }
                  
              }
          
      </script>
      

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>
</html>